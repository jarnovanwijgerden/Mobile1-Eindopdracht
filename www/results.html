
        
    <div data-role="page" id="results">
       <div data-role="main">


        <div style="background: #f1f1f1;">
            <img src="img/eetnu-logo2.png" alt="Eet.nu" class="homeImage">
        </div>
        <title>Resultaten</title>
        <header class="header">
            <nav class="nav-container">
                <div class="nav-toggle">Menu</div>
                <ul class="nav">
                    <li> <a href ="index.html" data-transition="slide"> Home </a></li>
                    <li> <a href ="restaurants.html" data-transition="slide"> Restaurants </a></li>
                    <li> <a href ="contact.html" data-transition="slide"> Contact </a></li>
                    <li> <a href ="settings.html" data-transition="slide"> Settings </a></li>  
                </ul>
            </nav>
        </header>


        <button id="btnback" class="basicText" style="display:inline-block; margin-left:5%; width:40%">vorige</button><button id="btnnext" class="basicText" style="display:inline-block; margin-left:10%; width:40%">Volgende</button>
        <p class="homeInfo" style="margin-top: 0px;">Zoekresultaten : </p>     


        
        <input type="text" data-type="search" id="filterable-input">
        <ul id="rest" data-role="listview"  data-filter="true" data-input="#filterable-input">
        </ul>    
        <p class="basicText homeFooter">Deze App is gemaakt door Louis Hol en Jarno van Wijgerden.</p>
         <script type="text/javascript">
        



        $(document).off('pageinit');
        $(document).on('pageinit', '#results', function(){  
            var data =  JSON.parse(localStorage.getItem("data"));

            fillListview(data);
            disableButtons(data);

            $(document.body).on('click', '#rest li' ,function(){
                var dataid = $(this).attr('data-id');
                getRestaurantByID(dataid, function(data)
                {
                    localStorage.setItem("restaurant", data);
                    window.location = "details.html";
                });
            });
            $("#btnnext").on("tap",function()
            {

                var nexturl = data.pagination.next_page;
                getRestaurantsByQuery(nexturl, function(newdata)
                {   
                    data =  JSON.parse(newdata);
                    fillListview(data);
                    disableButtons(data);
                });

            });
            $("#btnback").on("tap",function()
            {
                var backurl = data.pagination.previous_page;
                getRestaurantsByQuery(backurl, function(newdata)
                {   
                    data =  JSON.parse(newdata);
                    fillListview(data);
                    disableButtons(data);
                });
            });

            function disableButtons(newdata)
            {
                var nexturl = newdata.pagination.next_page;
                var backurl = newdata.pagination.previous_page;

                if(nexturl == null)
                {
                    $("#btnnext").prop("disabled",true);
                }
                else
                {
                    $("#btnnext").prop("disabled",false);
                }
                if(backurl == null)
                {
                    $("#btnback").prop("disabled",true);
                }
                else
                {
                    $("#btnback").prop("disabled",false);
                }
            }
            function fillListview(newdata)
            {
                $("#rest").empty();
                for(var object in newdata.results)
                {
                    $("#rest").append('Â <li data-id="' + newdata.results[object].id + '"><a href="">' + newdata.results[object].name +  '</a></li>');
                }
                $('#rest').listview('refresh');
            }
        });
     
        </script>

</div>
</div>






